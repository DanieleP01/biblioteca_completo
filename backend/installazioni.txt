INSTALLAZIONE DIPENDENZE: npm install express cors dotenv sqlite3 sqlite typescript
INSTALLAZIONE: npm install --save-dev @types/sqlite3 @types/dotenv
               l'unico differente è per typescript: npm install --save-dev ts-node @types/node @types/express @types/cors

COMPILAZIONE/ESECUZIONE: npm run build
                         npm start


aggiungere controllo prestito attivo home con badge notifica di prestito già in corso

voglio aggiungere la possibilità di mandare notifiche sia all'utente che al bibliotecario per eventi che avvengono nell'app, ad esmpio notificare all'utente quando manca poco alla scadenza di un suo libro, oppure quando una sua richiesta per un prestito sia stata accettata o meno, sia per il bibliotecario per notificargli quando un utente ha richiesto un prestito o per quando un prestito già accettato è terminato.

l'amministratore accetta la richiesta copie da parte del bibliotecario e va effettuato un controllo backend in cui le prenotazioni diventano prestiti.
sistemare la logica di loan_date e due_date di loans.

controllare tutti i file per usare correttamente le interfacce nelle funzioni in ts delle pagine, TOGLIERE <any[]>  !!!

commentare rotte in book e libraries

::ng-deep (per il css della modale)

 Se il prestito è scaduto, ritorna 403 Forbidden

spiegazione sintassi per rimostare le notifiche non lette subito dopo averle lette
// 1. Prendi l'array attuale di notifiche
                    const currentNotifications = this.notificationsSubject.getValue();                    
// 2. Cicla attraverso tutte le notifiche
const updatedNotifications = currentNotifications.map((n) => {
    // 3. Se l'ID corrisponde a quella che stai leggendo
    if(n.id === notificationId){
    // 4. Crea una COPIA della notifica e metti is_read = true
    return { ...n, is_read: true };
    }
    // 5. Altrimenti ritorna la notifica invariata
    return n;
});
// 6. Aggiorna l'array nel subject (aggiorna il template)
this.notificationsSubject.next(updatedNotifications);
// 7. Decrementa il counter di notifiche non lette
const currentCount = this.unreadCountSubject.getValue();
if(currentCount > 0){
    this.unreadCountSubject.next(currentCount - 1);
}


