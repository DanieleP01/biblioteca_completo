<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Inventario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  
  <div *ngIf="isLoading" class="ion-text-center ion-padding-top">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <div class="center-wrapper" *ngIf="!isLoading">
  
    <div class="container-list">
      
      <ion-item *ngIf="inventoryBook.length === 0" lines="none">
        <ion-label class="ion-text-center">
          Nessun libro trovato nell'inventario.
        </ion-label>
      </ion-item>

      <ion-item *ngFor="let book of inventoryBook" lines="full">
        
        <ion-thumbnail slot="start">
          <img [src]="book.cover_url || 'assets/images/placeholder.png'" />
        </ion-thumbnail>

        <ion-label class="text">
          <h2>{{ book.title }}</h2>
          <p>{{ book.author }}</p>
        </ion-label>

        <div class="inventory-controls" slot="end">
          
          <div class="copy-counter">
            <h3 [class.copies-zero]="book.copies === 0">
              <span>Copie:</span> {{ book.copies }} 
            </h3>
          </div>
          
          <ion-button 
            color="success"
            fill="outline" 
            size="small"
            (click)="requestCopies(book)">
            Richiedi
          </ion-button>
        </div>

      </ion-item>
    </div>
  </div>
</ion-content>
